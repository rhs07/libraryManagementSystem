<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<AnchorPane fx:id="rootPane" prefHeight="628.0" prefWidth="927.0" stylesheets="@home.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.gamef.homeController">

    <AnchorPane layoutX="0" layoutY="0" prefHeight="50" prefWidth="927">
        <children>
            <Label layoutX="20" layoutY="15" style="-fx-font-weight:bold; -fx-font-size:16px; -fx-text-fill:#2c3e50;" text="ðŸ› Library Panel" />
            <HBox alignment="CENTER_RIGHT" layoutX="0" layoutY="0" prefHeight="50" prefWidth="927" spacing="10" style="-fx-padding: 0 20 0 0;">
                <children>
                    <Button fx:id="minimizeButton" onAction="#handleMinimizeButtonAction" prefHeight="30" prefWidth="30" text="â€”" />
                    <Button fx:id="closeButton" onAction="#handleCloseButtonAction" prefHeight="30" prefWidth="30" text="X" />
                </children>
            </HBox>
        </children>
    </AnchorPane>

    <VBox alignment="TOP_CENTER" layoutX="740" layoutY="68.0" prefHeight="548.0" prefWidth="180" spacing="20">
        <children>
            <Label prefHeight="29.0" prefWidth="107.0" text="ðŸ“š Library Panel" textAlignment="CENTER">
                <font>
                    <Font size="19.0" />
                </font>
            </Label>
            <Separator />
            <Button fx:id="AddsBookButton" onAction="#addbook" prefHeight="45" prefWidth="160" text="âž• Add Book" />
            <Button fx:id="AddsMemberButton" onAction="#addmember" prefHeight="45" prefWidth="160" text="ðŸ‘¤ Add Member" />
            <Button fx:id="searchBookButton" onAction="#searchbook" prefHeight="45" prefWidth="160" text="ðŸ” Search Book" />
            <Button fx:id="searchMemberButton" onAction="#searchmember" prefHeight="45" prefWidth="160" text="ðŸ”Ž Search Member" />
            <Button fx:id="AllBookButton" onAction="#allbook" prefHeight="45" prefWidth="160" text="ðŸ“˜ All Books" />
            <Button fx:id="AllMemberButton" onAction="#allmember" prefHeight="45" prefWidth="160" text="ðŸ‘¥ All Members" />
            <Button fx:id="isuuedBookButton" onAction="#issuedbook" prefHeight="45" prefWidth="160" text="âœ… Issued Books" />
        </children>
    </VBox>

    <AnchorPane layoutX="20" layoutY="60" prefHeight="550" prefWidth="700" style="-fx-background-color: white; -fx-background-radius: 18; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 15, 0, 0, 5);">
        <children>
            <TabPane prefHeight="520" prefWidth="660" tabClosingPolicy="UNAVAILABLE">
                <tabs>
                    <Tab text="ðŸ”” Pending Requests">
                        <content>
                            <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                <children>
                                    <TableView fx:id="requestsTableView" layoutX="14.0" layoutY="14.0" prefHeight="380.0" prefWidth="630.0">
                                        <columns>
                                            <TableColumn fx:id="colRequestID" prefWidth="75.0" text="Request ID" />
                                            <TableColumn fx:id="colBookID" prefWidth="100.0" text="Book ID" />
                                            <TableColumn fx:id="colBookTitle" prefWidth="150.0" text="Book Title" />
                                            <TableColumn fx:id="colMemberID" prefWidth="100.0" text="Member ID" />
                                            <TableColumn fx:id="colMemberName" prefWidth="150.0" text="Member Name" />
                                        </columns>
                                    </TableView>
                                    <HBox layoutX="175.0" layoutY="415.0" spacing="20.0">
                                        <children>
                                            <Button fx:id="acceptRequestButton" mnemonicParsing="false" onAction="#acceptRequest" prefHeight="45.0" prefWidth="150.0" text="âœ… Accept Request" />
                                            <Button fx:id="rejectRequestButton" mnemonicParsing="false" onAction="#rejectRequest" prefHeight="45.0" prefWidth="150.0" text="âŒ Reject Request" />
                                        </children>
                                    </HBox>
                                </children>
                            </AnchorPane>
                        </content>
                    </Tab>
                    <Tab text="ðŸ“– Issue Book">
                        <content>
                            <AnchorPane>
                                <children>
                                    <Label layoutX="40" layoutY="60" text="Book Information" />
                                    <TextField fx:id="issue_bookID" layoutX="40" layoutY="80" onAction="#loadBookInfo" prefWidth="280" promptText="Enter Book ID" />
                                    <VBox layoutX="340" layoutY="80" spacing="8">
                                        <children>
                                            <Text fx:id="bookNameText" text="Book Name:" />
                                            <Text fx:id="bookAuthorText" text="Author:" />
                                            <Text fx:id="bookStatusText" text="Status:" />
                                        </children>
                                    </VBox>
                                    <Label layoutX="40" layoutY="170" text="Member Information" />
                                    <TextField fx:id="issue_memberID" layoutX="40" layoutY="190" onAction="#loadMemberInfo" prefWidth="280" promptText="Enter Member ID" />
                                    <VBox layoutX="340" layoutY="190" spacing="8">
                                        <children>
                                            <Text fx:id="memberNameText" text="Member Name:" />
                                            <Text fx:id="memberContactText" text="Contact:" />
                                        </children>
                                    </VBox>
                                    <Button fx:id="issueBookButton" layoutX="40" layoutY="300" onAction="#issueBook" prefHeight="45" prefWidth="610" text="ðŸ“˜ Issue Book" />
                                </children>
                            </AnchorPane>
                        </content>
                    </Tab>
                    <Tab text="â™» Return / Renew Book">
                        <content>
                            <AnchorPane>
                                <children>
                                    <TextField fx:id="return_bookID" layoutX="40" layoutY="40" onAction="#loadIssueInfo" prefWidth="610" promptText="Enter Book ID to Return or Renew" />
                                    <Text fx:id="issueDetailsText" layoutX="40" layoutY="110" text="Issue details will be displayed here..." wrappingWidth="610" />
                                    <HBox layoutX="40" layoutY="440" spacing="20">
                                        <children>
                                            <Button fx:id="returnBookButton" onAction="#returnBook" prefHeight="45" prefWidth="290" text="âª Return Book" />
                                            <Button fx:id="renewBookButton" onAction="#renewBook" prefHeight="45" prefWidth="290" text="ðŸ” Renew Book" />
                                        </children>
                                    </HBox>
                                </children>
                            </AnchorPane>
                        </content>
                    </Tab>
                </tabs>
            </TabPane>
            <Button fx:id="logoutButton" layoutX="27.0" layoutY="532.0" mnemonicParsing="false" onAction="#logoutOnAction" text="LogOut" />
        </children>
    </AnchorPane>

    <Label fx:id="footerLabel" layoutX="350" layoutY="605" text="Â© 2025 Library System" />
</AnchorPane>